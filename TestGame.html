<!DOCTYPE html> <!-- 宣告這是一個 HTML5 文件 -->
<html lang="zh-Hant"> <!-- 設定文件主要語言為繁體中文 -->
<head> <!-- 頭部區塊，包含網頁設定與樣式 -->
    <meta charset="UTF-8"> <!-- 設定字元編碼為 UTF-8，避免亂碼 -->
    <title>點擊小方塊遊戲</title> <!-- 瀏覽器分頁顯示的標題 -->

    <style> /* 這裡開始定義 CSS 樣式 */
        body {
            text-align: center; /* 文字置中 */
            margin-top: 50px; /* 整體往下移 50px */
            font-family: Arial, sans-serif; /* 使用 Arial 字型，若沒有則用 sans-serif */
        }

        /* 定義小方塊的樣式 */
        #box {
            width: 50px; /* 方塊寬度 50 像素 */
            height: 50px; /* 方塊高度 50 像素 */
            background-color: tomato; /* 方塊顏色為番茄紅 */
            position: absolute; /* 使用絕對定位，能自由移動 */
            top: 100px; /* 初始位置：距離上方 100px */
            left: 100px; /* 初始位置：距離左邊 100px */
            cursor: pointer; /* 滑鼠移到方塊上變成手指 */
            transition: all 0.2s ease; /* 點擊移動時有 0.2 秒動畫 */
            border-radius: 8px; /* 讓方塊四角稍微圓弧 */
        }

        /* 顯示分數和時間的資訊區塊 */
        #info {
            margin-top: 20px; /* 與上面元素間隔 20px */
            font-size: 18px; /* 字體大小 18px */
        }
    </style>
</head>

<body> <!-- 主體內容開始 -->
    <h1>點擊紅色小方塊！</h1> <!-- 主標題 -->
    <p>限時 30 秒，看看你能得幾分！</p> <!-- 說明文字 -->

    <!-- 遊戲小方塊 -->
    <div id="box"></div>

    <!-- 遊戲資訊：顯示分數和剩餘時間 -->
    <div id="info">
        得分：<span id="score">0</span> ｜ 剩餘時間：<span id="time">30</span> 秒
        <!-- span 用來放文字，初始分數是 0，時間是 30 秒 -->
    </div>

    <script> /* JavaScript 程式碼區塊 */
        // 取得 HTML 元素
        const box = document.getElementById('box'); // 抓取 id="box" 的方塊
        const scoreDisplay = document.getElementById('score'); // 抓取分數顯示的 <span>
        const timeDisplay = document.getElementById('time'); // 抓取時間顯示的 <span>

        // 遊戲狀態變數
        let score = 0;      // 分數，初始值 0
        let timeLeft = 30;  // 倒數時間，30 秒
        let gameOver = false; // 遊戲是否結束，初始 false

        // 當方塊被點擊時執行
        box.addEventListener('click', () => {
            if (gameOver) return; // 如果遊戲結束了，就不執行以下程式

            score++; // 分數 +1
            scoreDisplay.textContent = score; // 更新分數顯示

            // 讓方塊隨機移動到螢幕範圍內
            box.style.top = Math.random() * (window.innerHeight - 60) + 'px';
            box.style.left = Math.random() * (window.innerWidth - 60) + 'px';

            // 點擊動畫：縮放 1.3 倍再恢復
            box.style.transform = "scale(1.3)";
            setTimeout(() => box.style.transform = "scale(1)", 150);
        });

        // 倒數計時器，每 1 秒執行一次
        const timer = setInterval(() => {
            timeLeft--; // 時間 -1
            timeDisplay.textContent = timeLeft; // 更新畫面上的秒數

            if (timeLeft <= 0) { // 如果時間用完
                clearInterval(timer); // 停止計時器
                gameOver = true; // 遊戲結束
                alert(`遊戲結束！你的得分是 ${score}`); // 跳出提示框顯示分數
            }
        }, 1000); // 每 1000 毫秒 (1 秒) 執行一次
    </script>
</body>
</html>

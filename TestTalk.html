<!DOCTYPE html> <!-- 宣告這是 HTML5 文件 -->
<html lang="zh-Hant"> <!-- 設定主要語言為繁體中文 -->
<head> <!-- 頭部，放網站資訊與樣式 -->
    <meta charset="UTF-8"> <!-- 編碼方式 UTF-8，避免亂碼 -->
    <title>小聊天室</title> <!-- 瀏覽器分頁顯示的標題 -->

    <style> /* CSS 樣式區塊 */
        body {
            font-family: Arial, sans-serif; /* 預設字型 Arial，沒有則用 sans-serif */
            margin: 30px; /* 四周保留 30px 空白 */
        }
        #messages {
            border: 1px solid #ccc; /* 外框淺灰色 */
            height: 300px; /* 固定高度 300px */
            overflow-y: scroll; /* 當訊息超出範圍，出現捲軸 */
            padding: 10px; /* 內距 10px */
            margin-bottom: 10px; /* 與輸入框之間留 10px 空白 */
            background-color: #f9f9f9; /* 背景淡灰色 */
        }
        input, button {
            padding: 5px; /* 輸入框和按鈕的內距 */
            font-size: 14px; /* 字體大小 */
        }
        button {
            cursor: pointer; /* 滑鼠移到按鈕變成手指 */
        }
    </style>
</head>

<body> <!-- 主體內容開始 -->
    <h1>簡易聊天室</h1> <!-- 頁面標題 -->

    <!-- 輸入名字 -->
    <div>
        名字：<input type="text" id="username" placeholder="輸入你的名字">
        <!-- placeholder 是提示文字 -->
    </div>

    <!-- 訊息顯示區 -->
    <div id="messages"></div>

    <!-- 輸入訊息區 -->
    <input type="text" id="input" placeholder="輸入訊息...">
    <button onclick="sendMessage()">送出</button>
    <!-- 按下按鈕會執行 sendMessage() 函式 -->

    <script> /* JavaScript 區塊 */
        const messages = document.getElementById('messages'); // 取得訊息區 <div>
        const input = document.getElementById('input'); // 取得訊息輸入框
        const username = document.getElementById('username'); // 取得名字輸入框

        // 定義送出訊息的函式
        function sendMessage() {
            // 檢查是否有輸入名字或訊息
            if (input.value.trim() === '' || username.value.trim() === '') {
                alert('請輸入名字和訊息！'); // 如果沒輸入就跳警告
                return; // 結束函式
            }

            // 建立訊息內容，名字加粗 <b>
            const msg = `<b>${username.value}：</b> ${input.value}`;

            // 建立一個新的 <div> 元素，存放訊息
            const div = document.createElement('div');
            div.innerHTML = msg;

            // 把訊息加到 messages 區塊
            messages.appendChild(div);

            // 清空輸入框
            input.value = '';

            // 自動把捲軸拉到最下面，顯示最新訊息
            messages.scrollTop = messages.scrollHeight;
        }
    </script>
</body>
</html>
